# unit 2

寄存器是CPU中程序员可以用指令读写的部件。

程序员通过改变各种寄存器中的内容来实现对CPU的控制。

8086CPU中的所有寄存器都是16位的。但为保证兼容，8086CPU的AX、BX、CX、DX这4个寄存器都可分为两个可独立使用的8位寄存器来用：**AX可分为AH、AL**……

[^AH]: H:High  **高八位寄存器**
[^AL]: L：Low 低八位寄存器

8086CPU可以一次性处理以下两种尺寸的数据：

- 字节：Byte，一个字节由8bit组成，可以存在8位寄存器中

- 字：word，一个字由两个字节组成，分别是高位字节和低位字节，自然就存在高8位寄存器和低8位寄存器中。

  

  ### 数制的讨论

*十六进制数的一位相当于二进制数的四位。***如0100111000100000可表示成4（0100）、E（1110）、2（0010）、0（0000）四位十六进制数。** 

- **从左往右4位4位写，不够补零**

- 由此可知：八进制数的一位相当于二进制数的三位。

- 在十六进制表示的数据后面加H，在二进制表示的数据后面加B，十进制表示的数后面什么都不用加。

  - [x] 汇编指令或者寄存器的名称不区分大小写。

  

  **例子分析：当 AX中数据为8826H BX中为8826GH 执行 add ax,bx 后AX内的数据为多少？**

  **相加所得的值为：1044CH，但ax为16为寄存器，只能放4位16进制数的数据，所以最高位的1不能在ax中保存，ax中的数据为044CH。**

  **例子2分析：当AX为00C5H  执行add al,93H 后AX内的数据为多少？**

  **相加所得的值为：158H，但是al为8位寄存器，只能存放两个十六进制的数据，所以最高位的1丢失，ax中的数据为：0058H（丢失，指的是进位值不能在8位寄存器中保存，但是CPU并不是真的丢弃进位值）**

- 注意：当al作为一个独立的8位寄存器来使用的，和ah没有关系，CPU在执行这条指令时认为ah和al是两个不相干的寄存器，进位值不会放在ah。



#### 在进行数据传送和运算时，要注意指令的两个操作对象的位数应当是一致的。

### 16位结构的CPU

概括地讲，16位结构（16位机，字长为16位等常见说法，与16位结构的含义相同）描述了一个CPU具有下面几方面结构特性：

1.运算器一次最多可以处理16位的数据结构

2.寄存器的最大宽度为16位

3.寄存器和运算器之间的通路为16位

### 8086CPU给出物理地址的方法

8086CPU有20位地址总线，可以传送20位地址（5位16进制数），寻址能力达到1MB。那么怎么在16位结构中达到20位地址的呢？

8086CPU采用一种在内部用16位地址合成的方法来形成一个20位的物理地址。

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413084037142-1331059047.png)

 如上图2.6所示，当8086要读写内存时： 

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413084256189-1123841669.png)

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413084333955-1585568285.png)

### 讨论：

 **段地址*16还有一个更为常用的说法是左移4位。**

**一个数据的二进制形式左移1位，相当于该数据乘以2，左移N位，相当于该数据乘以2的N次方。**

**一个数据的十六进制形式左移1位，相当于乘以16，**

**一个十进制左移1位，相当于乘以10，**

**一个X进制的左移1位，相当于乘以X。** 



### “段地址*16+偏移地址=物理地址”的本质含义

CPU在访问内存时，用一个基础地址（段地址*16）和一个相对于基础地址的偏移地址相加，给出内存单元的物理地址。

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413090000111-689161726.png)

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413090054345-353883960.png)

![](https://images2015.cnblogs.com/blog/1100576/201704/1100576-20170413090120455-1102932897.png)

8086只能一次只能传输3位数据，前面那个段地址和偏移地址的方式就可以得到解释 